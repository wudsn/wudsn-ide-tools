<html>
<head>
	<link rel='stylesheet' type='text/css' href='pasdoc.css'>
	<title>unit b_utils - reference</title>
</head>
<body>

<!--********************* HEADER **************************-->

<h1>unit b_utils</h1>
<h3>Common Utils</h3>
<p>author: bocianu <a href='mailto:bocianu@gmail.com'>bocianu@gmail.com</a></p>
<br><p>Set of useful procedures to simplify common tasks in Atari 8-bit programming. <br> This library is a part of 'blibs' - set of custom Mad-Pascal libraries. <br> <a href='https://gitlab.com/bocianu/blibs'>https://gitlab.com/bocianu/blibs</a></p>

<!--********************* CONSTANTS **************************-->





<!--********************* TYPES **************************-->

<h2>Types:</h2>
<table class='types'>
<tr><th>name:</th><th>type:</th><th>description:</th></tr>

<tr><td class='tname'>TdateTime</td><td class='ttype'>record<ul class='record'><li>year: word;</li><li>month: byte;</li><li>day: byte; <span class='comment'>// day of month</span></li><li>hour: byte;</li><li>minute: byte;</li><li>second: byte;</li><li>dow: byte; <span class='comment'>// day of week</span></li></ul><br clear='all'>end;</td><td class='tdesc'>Record type used to store date and time.</td></tr>

</table>

<!--********************* ABSOLUTE VARIABLES **************************-->





<!--********************* GLOBAL VARIABLES **************************-->





<!--********************* INTERFACE **************************-->

<h2>Interface:</h2>
<table class='interface'>
<tr><th>name:</th><th>description:</th></tr>

<tr><td class='tname fname'>CountBits</td><td class='tdesc'><h4>function CountBits(b: byte):byte;assembler;</h4><br>
	Counts number of ones in bits of any byte value.<br><ul><h5>parameters:</h5><li>b - byte value to count bits in</li><h5>returns:</h5><li class='returns'>(byte) - number fo bits turned on</li></ul></td></tr>
<tr><td class='tname fname'>WriteLnCentered</td><td class='tdesc'><h4>procedure WriteLnCentered(s: string);</h4><br>
	Outputs string aligned to center of screen width. <br> Length of string should not exceed screen width (40).<br><ul><h5>parameters:</h5><li>s - string to write</li></ul></td></tr>
<tr><td class='tname fname'>WriteRightAligned</td><td class='tdesc'><h4>procedure WriteRightAligned(w: byte; s: TString);</h4><br>
	Outputs string aligned to right of provided width. <br> Length of string should not exceed provided width of field.<br><ul><h5>parameters:</h5><li>w - width of field to align</li><li>s - string to write</li></ul></td></tr>
<tr><td class='tname fname'>NullTermToString</td><td class='tdesc'><h4>function NullTermToString(ptr: word): string;</h4><br>
	Parses null terminated string into regular pascal string variable.<br><ul><h5>parameters:</h5><li>ptr (word) - address in memory of null terminated string</li><h5>returns:</h5><li class='returns'>(string) - regular pascal string type variable</li></ul></td></tr>
<tr><td class='tname fname'>FFTermToString</td><td class='tdesc'><h4>function FFTermToString(ptr: word): string;</h4><br>
	Parses string terminated with $FF into regular pascal string variable.<br><ul><h5>parameters:</h5><li>ptr (word) - address in memory of null terminated string</li><h5>returns:</h5><li class='returns'>(string) - regular pascal string type variable</li></ul></td></tr>
<tr><td class='tname fname'>ExpandRLE</td><td class='tdesc'><h4>procedure ExpandRLE(src: word; dest: word);</h4><br>
	Expands RLE compressed data from source memory location and writes expanded data at destination memory address.<br><ul><h5>parameters:</h5><li>src (word) - source address of compressed data</li><li>dest (word) - destination address where data is expanded</li></ul></td></tr>
<tr><td class='tname fname'>ExpandLZ4</td><td class='tdesc'><h4>procedure ExpandLZ4(source: word; dest: word);assembler;</h4><br>
	Expands LZ4 compressed data from source memory location and writes expanded data at destination memory address. <br> Based on xxl & fox routine from here: <a href='https://xxl.atari.pl/lz4-decompressor/'>https://xxl.atari.pl/lz4-decompressor/</a><br><ul><h5>parameters:</h5><li>src (word) - source address of compressed data</li><li>dest (word) - destination address where data is expanded</li></ul></td></tr>
<tr><td class='tname fname'>UnixToDate</td><td class='tdesc'><h4>procedure UnixToDate(ux: cardinal; var date: TDateTime);</h4><br>
	Converts unix timestamp to proper date, represented as an record of TDateTime type.<br><ul><h5>parameters:</h5><li>ux (cardinal) - unix timestamp</li><li>date (TDateTime) - record where the result of conversion is stored</li></ul></td></tr>
<tr><td class='tname fname'>Hour24to12</td><td class='tdesc'><h4>function Hour24to12(hour: byte):byte;</h4><br>
	Converts 24 hour clock indication into to 12 hour<br><ul><h5>parameters:</h5><li>hour (byte) - hour (0-23)</li><h5>returns:</h5><li class='returns'>(byte) - hour(0-12)</li></ul></td></tr>
<tr><td class='tname fname'>HexChar2Dec</td><td class='tdesc'><h4>function HexChar2Dec(c:char):byte;</h4><br>
	Converts hex char into proper value in decimal.<br><ul><h5>parameters:</h5><li>c (char) - hex char (0-9,a-f)</li><h5>returns:</h5><li class='returns'>(byte) - decimal value (0-15), on error (invalid char) returns 255</li></ul></td></tr>
<tr><td class='tname fname'>Base64Init</td><td class='tdesc'><h4>procedure Base64Init;</h4><br>
	Initializes base64 encoding tables. Must be started once, prior to any compression or decompression process.<br><ul></ul></td></tr>
<tr><td class='tname fname'>Base64Encode</td><td class='tdesc'><h4>procedure Base64Encode(var src, dest: string);</h4><br>
	Encodes string using base64 code. Be sure that trlaslation arrays are initialized by calling Base64Init first. Once.<br><ul><h5>parameters:</h5><li>src (string) - source string</li><li>dest (string) - destination string where data is encoded</li></ul></td></tr>
<tr><td class='tname fname'>Base64Decode</td><td class='tdesc'><h4>procedure Base64Decode(var src, dest: string);</h4><br>
	Decodes base 64 encoded string Be sure that trlaslation arrays are initialized by calling Base64Init first. Once.<br><ul><h5>parameters:</h5><li>src (string) - encoded source string</li><li>dest (string) - destination string where data is decoded</li></ul></td></tr>

</table>

<!--********************* FOOTER **************************-->

<br>
<div class='footer'>This documentation was generated using <a href='https://gitlab.com/bocianu/pasdoc' target='_blank'>PasDoc</a>.</div>
</body>
</html>
